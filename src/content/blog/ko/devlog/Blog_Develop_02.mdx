---
title: 'ë¸”ë¡œê·¸ ê°œë°œì¼ì§€ 02'
description: 'ë‹¤êµ­ì–´(i18n) ì§€ì› êµ¬í˜„ ë° ì´ë¯¸ì§€ ê²½ë¡œ ìµœì í™” ê¸°ë¡'
pubDate: '2025-10-28'
# heroImage: '/images/blog-placeholder-2.jpg'
tags: ['Devlog', 'Astro', 'i18n', 'Refactoring']
category: 'devlog'
---

## í”„ë¡œì íŠ¸
ê°œì¸ ë¸”ë¡œê·¸ ë‹¤êµ­ì–´ ì§€ì› ë° ì´ë¯¸ì§€ ì‹œìŠ¤í…œ ê°œì„ 

- ê¸°ê°„: 2025-10-28
- ì—­í• : ë¸”ë¡œê·¸ ê°œë°œì

---

## ì£¼ìš” ì—…ë¬´

- Astro i18n ì„¤ì • ë° ë‹¤êµ­ì–´ ë¼ìš°íŒ… êµ¬í˜„
- ë¸”ë¡œê·¸ ì½˜í…ì¸  ì–¸ì–´ë³„ êµ¬ì¡°í™”
- ì´ë¯¸ì§€ ê²½ë¡œ ì‹œìŠ¤í…œ ê°œì„  (src/assets â†’ public/images)
- íƒ€ì… ì•ˆì „ì„± ê°œì„  ë° ì½”ë“œ ë‹¨ìˆœí™”

---

## í•µì‹¬ ì‘ì—… ìš”ì•½

### 1. Astro i18n ì„¤ì • (`astro.config.mjs`)

```javascript
i18n: {
  defaultLocale: 'ko',
  locales: ['ko', 'jp', 'en'],
  routing: {
    prefixDefaultLocale: false
  }
}
```

- **í•œêµ­ì–´**: `/` (ê¸°ë³¸ ì–¸ì–´, prefix ì—†ìŒ)
- **ì¼ë³¸ì–´**: `/jp/`
- **ì˜ì–´**: `/en/`

### 2. ë²ˆì—­ ì‹œìŠ¤í…œ êµ¬ì¶• (`src/i18n/ui.ts`)

- 3ê°œ ì–¸ì–´(ko, jp, en)ì— ëŒ€í•œ ë²ˆì—­ ë”•ì…”ë„ˆë¦¬ ìƒì„±
- `useTranslations()` í—¬í¼ í•¨ìˆ˜ë¡œ íƒ€ì… ì•ˆì „í•œ ë²ˆì—­ ì ‘ê·¼
- ë„¤ë¹„ê²Œì´ì…˜, ë¸”ë¡œê·¸, About í˜ì´ì§€ ë“± UI í…ìŠ¤íŠ¸ ì™„ì „ ë²ˆì—­

**ì£¼ìš” ë²ˆì—­ í‚¤**:
- `nav`: home, blog, about
- `blog`: all-posts, read-more, no-posts, tags, category
- `about`: title, greeting, intro, background, interests, skills, contact

### 3. LanguagePicker ì»´í¬ë„ŒíŠ¸ (`src/components/LanguagePicker.astro`)

- ë“œë¡­ë‹¤ìš´ í˜•ì‹ì˜ ì–¸ì–´ ì„ íƒê¸°
- í˜„ì¬ ì–¸ì–´ ìƒíƒœ í‘œì‹œ (ğŸŒ ì•„ì´ì½˜ + ì–¸ì–´ëª…)
- ì–¸ì–´ ë³€ê²½ ì‹œ ë™ì¼ ê²½ë¡œ ìœ ì§€ (ì˜ˆ: `/blog` â†’ `/jp/blog`)

### 4. ì–¸ì–´ë³„ í˜ì´ì§€ ë¼ìš°íŒ… (`src/pages/[lang]/`)

ìƒˆë¡œìš´ í˜ì´ì§€ êµ¬ì¡°:
```
src/pages/
  â”œâ”€â”€ index.astro (/ â†’ /ko/ ë¦¬ë‹¤ì´ë ‰íŠ¸)
  â”œâ”€â”€ about.astro (/about â†’ /ko/about ë¦¬ë‹¤ì´ë ‰íŠ¸)
  â””â”€â”€ [lang]/
      â”œâ”€â”€ index.astro (ì–¸ì–´ë³„ í™ˆ)
      â”œâ”€â”€ about.astro (ì–¸ì–´ë³„ ì†Œê°œ)
      â””â”€â”€ blog/
          â”œâ”€â”€ index.astro (ì–¸ì–´ë³„ ë¸”ë¡œê·¸ ëª©ë¡)
          â””â”€â”€ [...slug].astro (ì–¸ì–´ë³„ ê°œë³„ í¬ìŠ¤íŠ¸)
```

**ì£¼ìš” ë¡œì§**:
- `getStaticPaths()`ë¡œ ko, jp, en ê²½ë¡œ ìƒì„±
- ``post.id.startsWith(`${lang}/`)``ë¡œ ì–¸ì–´ë³„ í¬ìŠ¤íŠ¸ í•„í„°ë§
- ê° í˜ì´ì§€ì—ì„œ `useTranslations(lang)` ì‚¬ìš©

### 5. ë¸”ë¡œê·¸ ì½˜í…ì¸  êµ¬ì¡° ì¬í¸

ê¸°ì¡´:
```
src/content/blog/
  â”œâ”€â”€ devlog/
  â”œâ”€â”€ review/
  â””â”€â”€ contemplation/
```

ë³€ê²½ í›„:
```
src/content/blog/
  â”œâ”€â”€ ko/
  â”‚   â”œâ”€â”€ devlog/
  â”‚   â”œâ”€â”€ review/
  â”‚   â””â”€â”€ contemplation/
  â”œâ”€â”€ jp/
  â”‚   â””â”€â”€ sample.md
  â””â”€â”€ en/
      â””â”€â”€ sample.md
```

### 6. ì´ë¯¸ì§€ ì‹œìŠ¤í…œ ê°œì„ 

**ë¬¸ì œì **:
- `src/assets/`ì˜ ì´ë¯¸ì§€ë¥¼ content collectionì—ì„œ ìƒëŒ€ ê²½ë¡œë¡œ ì°¸ì¡° ì‹œ ì˜¤ë¥˜
- `image()` í—¬í¼ì™€ public í´ë” ê²½ë¡œ ê°„ íƒ€ì… ì¶©ëŒ
- ë³µì¡í•œ ì´ë¯¸ì§€ íƒ€ì… ì²´í¬ ë¡œì§

**í•´ê²° ë°©ë²•**:
1. ëª¨ë“  ì´ë¯¸ì§€ë¥¼ `public/images/`ë¡œ ì´ë™
2. `content.config.ts`ì—ì„œ `image()` í—¬í¼ ì œê±°, `z.string().optional()`ë¡œ ë‹¨ìˆœí™”
3. `BaseHead.astro`ì™€ `BlogPost.astro`ì—ì„œ Image ì»´í¬ë„ŒíŠ¸ ì œê±°
4. í‘œì¤€ `<img>` íƒœê·¸ë¡œ í†µì¼

**ë³€ê²½ íŒŒì¼**:
- `src/content.config.ts`: heroImage ìŠ¤í‚¤ë§ˆ ë‹¨ìˆœí™”
- `src/components/BaseHead.astro`: ImageMetadata ì œê±°, string URLë¡œ ë³€ê²½
- `src/layouts/BlogPost.astro`: Image import ì œê±°, ì¡°ê±´ë¶€ ë Œë”ë§ ì œê±°
- `src/pages/[lang]/about.astro`: ì´ë¯¸ì§€ import ì œê±°, ì§ì ‘ URL ì‚¬ìš©

**ì´ë¯¸ì§€ ê²½ë¡œ í˜•ì‹**:
```markdown
# ì˜¬ë°”ë¥¸ ê²½ë¡œ
heroImage: '/images/KOSSDA.png'

# ì˜ëª»ëœ ê²½ë¡œ
heroImage: 'images/KOSSDA.png'  # ìŠ¬ë˜ì‹œ ëˆ„ë½
heroImage: '../../assets/KOSSDA.png'  # ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ë¡œ
```

### 7. ë ˆê±°ì‹œ ì½”ë“œ ì •ë¦¬

- `/blog` í´ë” ì™„ì „ ì‚­ì œ
- ì¤‘ë³µ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ì œê±°
- ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì´ë¯¸ì§€ import ì œê±°

---

## ê¸°ìˆ  ìŠ¤íƒ ë³€ê²½ì‚¬í•­

### ì¶”ê°€ëœ ì„¤ì •
- `astro.config.mjs`: i18n ì„¤ì •
- `src/i18n/ui.ts`: ë²ˆì—­ ì‹œìŠ¤í…œ

### ìˆ˜ì •ëœ ì»´í¬ë„ŒíŠ¸
- `Header.astro`: LanguagePicker í†µí•©
- `BaseHead.astro`: ì´ë¯¸ì§€ íƒ€ì… ê°„ì†Œí™”
- `BlogPost.astro`: ì´ë¯¸ì§€ ì²˜ë¦¬ ë¡œì§ ë‹¨ìˆœí™”

### ì‚­ì œëœ ì˜ì¡´ì„±
- `astro:assets` Image ì»´í¬ë„ŒíŠ¸ (ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ì—ì„œ)
- ImageMetadata íƒ€ì… ì²´í¬

---

## ë¬¸ì œ í•´ê²° ê³¼ì •

### Issue 1: Content Collection ì´ë¯¸ì§€ ê²½ë¡œ ì˜¤ë¥˜
**ì¦ìƒ**: `ImageNotFound: Could not find requested image`

**ì›ì¸**: Content collectionì˜ `image()` í—¬í¼ê°€ ì¤‘ì²©ëœ í´ë” êµ¬ì¡°ì—ì„œ ìƒëŒ€ ê²½ë¡œë¥¼ ì˜¬ë°”ë¥´ê²Œ í•´ì„í•˜ì§€ ëª»í•¨

**í•´ê²°**: 
- src/assets ì‚¬ìš© í¬ê¸°
- public/imagesë¡œ ì´ë¯¸ì§€ ì´ë™
- heroImageë¥¼ ë¬¸ìì—´ íƒ€ì…ìœ¼ë¡œ ë³€ê²½

### Issue 2: BaseHead ì´ë¯¸ì§€ íƒ€ì… ì¶©ëŒ
**ì¦ìƒ**: `Property 'src' does not exist on type 'string'`

**ì›ì¸**: BaseHeadê°€ ImageMetadataë¥¼ ê¸°ëŒ€í–ˆì§€ë§Œ ë¬¸ìì—´ URLì„ ë°›ìŒ

**í•´ê²°**:
- image prop íƒ€ì…ì„ `string`ìœ¼ë¡œ ë³€ê²½
- `image.src` â†’ `image`ë¡œ ìˆ˜ì •
- fallbackì„ `/images/blog-placeholder-1.jpg`ë¡œ ì„¤ì •

### Issue 3: About í˜ì´ì§€ ë¹Œë“œ ì‹¤íŒ¨
**ì¦ìƒ**: `Rollup failed to resolve import "/images/my_photo.png"`

**ì›ì¸**: Public í´ë”ì˜ ì´ë¯¸ì§€ë¥¼ import ì‹œë„

**í•´ê²°**:
- import ë¬¸ ì œê±°
- ì§ì ‘ URL ë¬¸ìì—´ ì‚¬ìš©: `src="/images/my_photo.jpeg"`
- íŒŒì¼ í™•ì¥ì ìˆ˜ì • (.png â†’ .jpeg)

---

## ë°°ìš´ ì 

### Astro Content Collectionsì˜ í•œê³„
- `image()` í—¬í¼ëŠ” ë‹¨ìˆœí•œ í´ë” êµ¬ì¡°ì—ì„œë§Œ ì•ˆì •ì 
- ì¤‘ì²©ëœ ì–¸ì–´ë³„ êµ¬ì¡°ì—ì„œëŠ” public í´ë” ì‚¬ìš©ì´ ë” ì•ˆì „
- íƒ€ì… ì•ˆì „ì„±ê³¼ ë‹¨ìˆœì„± ì‚¬ì´ì˜ ê· í˜• í•„ìš”

### i18n êµ¬í˜„ ì „ëµ
- URL ê¸°ë°˜ ë¼ìš°íŒ…ì´ SEOì— ìœ ë¦¬
- ê¸°ë³¸ ì–¸ì–´ëŠ” prefix ì—†ì´ ì‚¬ìš©í•˜ì—¬ ê¸°ì¡´ URL ìœ ì§€
- ë²ˆì—­ ë”•ì…”ë„ˆë¦¬ëŠ” ì¤‘ì•™í™”í•˜ì—¬ ê´€ë¦¬ ìš©ì´ì„± í™•ë³´

### ë¦¬íŒ©í† ë§ì˜ ì¤‘ìš”ì„±
- ë³µì¡í•œ íƒ€ì… ì²´í¬ë³´ë‹¤ ë‹¨ìˆœí•œ êµ¬ì¡°ê°€ ë” ì•ˆì •ì 
- ë¹Œë“œ ì˜¤ë¥˜ëŠ” ì¦‰ì‹œ í•´ê²°í•´ì•¼ ê¸°ìˆ  ë¶€ì±„ ë°©ì§€
- ì‘ì€ ë‹¨ìœ„ë¡œ í…ŒìŠ¤íŠ¸í•˜ë©° ì§„í–‰ (dev â†’ build â†’ deploy)

---

ì‘ì„±ì¼: 2025-10-28
