---
title: '블로그 개발일지 08'
description: '블로그 글 카테고리별 나열하기, 시리즈 기능 구현 및 URL 오류 수정'
pubDate: '2026-02-08'
heroImage: '/images/BLOG/category.png'
tags: ['blog', 'category', 'development','devlog']
category: 'blog_devlog'
series: '블로그 개발일지'
seriesOrder: 8
---

## 오늘의 작업 내역
1. 카테고리별로 블로그 글을 나열해두지 않아서, 보기가 불편해 해당 기능을 추가했습니다.
2. 이전 글을 클릭했을 때 오류가 발생하는 문제를 수정했습니다. [dynamic routes 관련 이슈]

먼저, 간단하게 하결한 내용부터 작성하려고 합니다.
## 오류 수정: dynamic routes 관련 이슈
이전 글을 클릭했을 때, dynamic routes 관련 오류가 발생하는 문제를 발견했습니다.
1. 이전 글 링크를 클릭했을 때, 보고 있는 글의 `.../ALGO_BOT/Algorithm_Bot_05.mdx/Algorithm_Bot_04` 형태로 URL이 다르게 생성되는 문제였습니다.
2. 이를 해결하기 위해, 이전 글 링크를 생성할 때 `../Algorithm_Bot_04.mdx` 형태로 상대 경로를 사용하도록 수정했습니다.
3. Slugify로 인해 대문자가 아닌 소문자 형태로 url이 생성되서 똑같이 404 에러가 났습니다.

AI에게 물어보니, 이 문제를 해결하기 위해서는 2가지 선택지가 있었는데, 하나는 파일 이름을 전부 소문자로 바꾸는 것, 다른 하나는 Frontformat에서 slug를 강제 지정하는 방식이였습니다.

근데, 굳이 이렇게 할 필요가 있을까 해서, `[이전 글](../algorithm_bot_04)`에서 이어집니다. 그냥 링크 자체를 소문자로 바꿨더니 문제가 해결되었습니다.
AI에 먼저 물어보기 보단, 스스로 고민을 해본 뒤 답이 나오지 않을 때 물어보는 습관을 키워야 할 것 같습니다...

## 카테고리별 글 나열 기능 추가
어떻게 만들어야 할까 고민을 했습니다. 처음에 생각한 것은 Frontmatter에 있는 카테고리 이름별로 폴더를 만들어 그 안에 글을 넣는 방식을 가기로 했습니다. 우선, 카테고리가 뒤죽박죽 섞여 있어서, 개발 일지 별로 카테고리를
새로 부여하는 작업을 한 뒤, 해당 카테고리별로 폴더를 만들어 글을 보이게 했습니다.

### Astro의 동적 라우팅 활용
단순히 글을 나열하는 것뿐만 아니라, `/blog/categories/[category]` 형태의 URL을 통해 접근할 수 있도록 만들고 싶었습니다. 이를 위해 Astro의 **Dynamic Routing(동적 라우팅)** 기능을 활용했습니다.

`getStaticPaths` 함수를 통해 전체 게시글(`getCollection('blog')`)을 불러온 뒤, 게시글의 Frontmatter에 있는 `category` 정보를 수집했습니다. 
`Set`을 이용해 중복된 카테고리를 제거하고, 각 카테고리별로 페이지 경로를 생성해 주었습니다. 덕분에 카테고리가 늘어나더라도 별도의 작업 없이 자동으로 페이지가 생성되도록 자동화할 수 있었습니다.

### 디테일: 고유한 파스텔 톤 색상 부여 (Server-side Hashing)
가장 큰 난관은 **'폴더의 색상'**이었습니다. 모든 폴더가 똑같은 파란색이면 구분이 잘 안 가고, 그렇다고 자바스크립트로 매번 랜덤하게 색을 입히자니 페이지 로딩 시 색이 깜빡거리는(FOUC) 문제가 있었습니다.

이를 해결하기 위해 **'서버 사이드 해싱(Server-side Hashing)'** 방식을 도입했습니다.
카테고리 이름(문자열)을 아스키 코드로 변환하여 더한 뒤, 미리 정의해 둔 **파스텔 톤 팔레트**의 개수로 나누어 고유한 인덱스를 뽑아내는 방식입니다.

```typescript
// 카테고리 이름에 따라 고정된 색상을 부여하는 로직
let hash = 0;
for (let i = 0; i < categoryValue.length; i++) {
    hash = categoryValue.charCodeAt(i) + ((hash << 5) - hash);
}
const colorIndex = Math.abs(hash) % PALETTE.length;

```
덕분에 클라이언트 스크립트 없이도 빌드 타임에 색상이 결정되어 성능 저하가 없고, 카테고리별로 일관된 색상을 유지할 수 있었습니다.

## 시리즈 기능 추가
여러 편으로 이어지는 글을 한 흐름으로 보여주기 위해 **Series 기능**을 추가했습니다. Frontmatter에 `series`, `seriesOrder`를 넣어 동일한 시리즈 이름을 가진 글을 모아서 정렬할 수 있도록 했습니다.

- **정렬 규칙**: `seriesOrder` 오름차순 → 동일 순서일 경우 `pubDate` 기준
- **진행 표시**: 현재 글이 시리즈 전체 중 몇 번째인지 표시 (예: `8 / 10`)
- **네비게이션**: 본문 하단에 이전 편/다음 편 링크 제공

덕분에 개발일지처럼 연속된 글을 자연스럽게 탐색할 수 있고, 독자 입장에서도 좀 더 보기 편하게 되었습니다.

### 마무리
제가 작성할 글을 카테고리별로 쉽게 찾아볼 수 있게 되어 매우 만족스럽습니다. 아래는 앞으로 개발 할 기능 목록입니다.

1. 다국어 번역기 기능을 완성하고자 합니다.
2. 검색 기능이 지금은 깡통인데, https://pagefind.app/ 이걸 사용해서 구현하려고 합니다.
3. 이제 조회수가 늘어나면, 조회수에 따른 인기 글 기능을 추가하려고 합니다.