---
import FormattedDate from './FormattedDate.astro';
import { estimateWordCount, estimateReadTime } from '../utils/blog.ts';

export interface Props {
  pubDate: Date;
  category?: string;
  content?: string; // Full post content for accurate word counting
  description?: string; // Fallback if content not available
  tags?: string[];
}

const { pubDate, category, content, description, tags } = Astro.props;

// Use actual content for word count, fallback to description
const textToCount = content || description || '';
const wordCount = estimateWordCount(textToCount);
const readTime = estimateReadTime(wordCount);
---

<div class="flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400">
  <FormattedDate date={pubDate} />
  <span>â€¢</span>
  <span>{readTime} min read</span>
</div>
