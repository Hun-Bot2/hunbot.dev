---
import BaseHead from '../../components/BaseHead.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import FloatingLanguagePicker from '../../components/FloatingLanguagePicker.astro';
import { useTranslations } from '../../i18n/ui';

export function getStaticPaths() {
  return [
    { params: { lang: 'ko' } },
    { params: { lang: 'jp' } },
    { params: { lang: 'en' } },
  ];
}

const { lang } = Astro.params;
const t = useTranslations(lang as 'ko' | 'jp' | 'en');

const SITE_TITLE = `${t('about.title')} - Hun-Bot Blog`;
const SITE_DESCRIPTION = t('about.description');
const introParagraphs = t('about.intro').split('\n').map((text) => text.trim()).filter(Boolean);

const stats = [
	{ label: t('about.stats.role'), value: t('about.stats.role.value') },
	{ label: t('about.stats.location'), value: t('about.stats.location.value') },
	{ label: t('about.stats.focus'), value: t('about.stats.focus.value') },
	{ label: t('about.stats.languages'), value: t('about.stats.languages.value') },
];

const timelineEntries = Array.from({ length: 10 }, (_, i) => ({
	title: t(`about.timeline.${i}.title` as any),
	period: t(`about.timeline.${i}.period` as any),
	body: t(`about.timeline.${i}.body` as any),
})).filter(entry => entry.title && entry.period && entry.body);

const academicSections = [
  {
    title: t('about.academics.cs.title'),
    courses: t('about.academics.cs.courses')
      .split('\\n')
      .map((line) => line.trim())
      .filter(Boolean),
  },
  {
    title: t('about.academics.ai.title'),
    courses: t('about.academics.ai.courses')
      .split('\\n')
      .map((line) => line.trim())
      .filter(Boolean),
  },
  {
    title: t('about.academics.backend.title'),
    courses: t('about.academics.backend.courses')
      .split('\\n')
      .map((line) => line.trim())
      .filter(Boolean),
  },
  {
    title: t('about.academics.edu.title'),
    courses: t('about.academics.edu.courses')
      .split('\\n')
      .map((line) => line.trim())
      .filter(Boolean),
  },
];


const featureLinks = [
	{
		title: t('about.features.note.title'),
		description: t('about.features.note.description'),
		href: 'https://hun-bot2.github.io/study/',
		badge: 'Study Log',
	},
	{
		title: t('about.features.github.title'),
		description: t('about.features.github.description'),
		href: 'https://hun-bot2.github.io',
		badge: 'Portfolio',
	},
];
---

<!doctype html>
<html lang={lang}>
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
	</head>
	<body>
		<Header />
		<FloatingLanguagePicker />

		<main class="max-w-4xl mx-auto px-4 py-10 space-y-16">

		<section class="flex flex-col md:flex-row items-center gap-12">
			<div class="relative group flex-none">
				<img 
					src="/images/nanawithme.jpeg" 
					alt="Hun Profile"
					loading="eager"
					decoding="async"
					width="192"
					height="192"
					class="w-40 h-40 md:w-48 md:h-48 lg:w-64 lg:h-64 object-cover object-center shadow-lg shadow-black/30 border border-white/10 transition-transform duration-300 group-hover:scale-105 rounded-full"
				/>
			</div>
			<div class="text-center lg:text-left space-y-1">
				<div class="text-2xl lg:text-4xl font-bold text-orange-600 dark:text-orange-400 mb-4">
					{t('about.greeting').split('\n').map(line => <p class="my-0">{line}</p>)}
				</div>
				<div class="text-xl text-slate-600 dark:text-gray-400 leading-relaxed max-w-2xl space-y-2">
					{introParagraphs.map((paragraph) => (
						<p>{paragraph}</p>
					))}
				</div>
			</div>
		</section>

		<section class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
			{stats.map((stat) => (
				<div class="rounded-2xl border border-slate-200 bg-white dark:border-white/10 dark:bg-white/5 px-5 flex flex-col text-center shadow-sm hover:shadow-md transition-all duration-200 backdrop-blur min-h-[150px]">
					<p class="text-xm uppercase tracking-wide text-slate-400 dark:text-slate-200 mb-2 py-2">{stat.label}</p>
					<div class="flex-1 flex items-center justify-center">
						<p class="text-base sm:text-lg font-semibold text-slate-900 dark:text-white leading-snug break-words text-center whitespace-pre-line">{stat.value}</p>
					</div>
				</div>
			))}
		</section>

		<section class="space-y-6">
			<div class="space-y-2 text-center lg:text-left">
				<h2 class="text-3xl font-bold text-orange-800 dark:text-orange-300">{t('about.academics.title')}</h2>
				<p class="text-lg text-slate-600 dark:text-slate-300">{t('about.academics.subtitle')}</p>
			</div>
			<div class="grid gap-6 md:grid-cols-2">
				{academicSections.map((section) => (
					<div class="rounded-2xl border border-slate-200 bg-white dark:border-white/10 dark:bg-white/5 px-6 py-3 shadow-sm hover:shadow-md transition-all duration-200 backdrop-blur">
						<h3 class="text-xl font-semibold text-slate-900 dark:text-white">{section.title}</h3>
						<div class="text-base text-slate-600 dark:text-slate-300 leading-relaxed">
							{section.courses.map((courseLine) => (
								<p>{courseLine}</p>
							))}
						</div>
					</div>
				))}
			</div>
		</section>

		<!-- 교육 섹션 - 심플한 카드 디자인 -->
		<section class="space-y-8">
			<h2 class="text-3xl font-bold text-orange-800 dark:text-orange-300 flex items-center gap-3">
				{t('about.education')}
			</h2>
			<div class="border-l-4 border-orange-500 pl-6 space-y-3">
				<h3 class="text-2xl font-bold text-orange-800 dark:text-orange-300">
					{t('about.university')}
				</h3>
				<p class="text-lg font-semibold text-slate-700 dark:text-gray-300">{t('about.major')}</p>
				<p class="text-sm text-slate-500 dark:text-gray-300">{t('about.status')}</p>
				<p class="text-slate-600 dark:text-gray-200 leading-relaxed">
					{t('about.university-desc')}
				</p>
			</div>
		</section>

		<!-- 관심 분야 및 기술 스택 섹션 -->
		<section class="space-y-8">
			<h2 class="text-3xl font-bold text-orange-800 dark:text-orange-300 flex items-center gap-3">
				{t('about.tech-stack')}
			</h2>
			<div class="grid grid-cols-1 md:grid-cols-2 gap-8">
				<!-- Frontend -->
				<div class="group space-y-4">
					<h3 class="text-xl font-semibold text-orange-700 dark:text-orange-300 group-hover:text-orange-500 dark:group-hover:text-orange-200 transition-colors duration-300 flex items-center gap-2">
						{t('about.frontend')}
					</h3>
					<div class="pl-6 border-l-2 border-orange-200 dark:border-orange-700 space-y-3">
						<div class="flex items-center gap-2">
							<span class="px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-sm font-medium rounded-full">Three.js</span>
							<span class="px-3 py-1 bg-cyan-100 dark:bg-cyan-900 text-cyan-800 dark:text-cyan-200 text-sm font-medium rounded-full">React</span>
							<span class="px-3 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 text-sm font-medium rounded-full">TypeScript</span>
						</div>
						<p class="text-slate-600 dark:text-slate-300 leading-relaxed">
							{t('about.frontend-desc')}
						</p>
					</div>
				</div>

				<!-- Backend -->
				<div class="group space-y-4">
					<h3 class="text-xl font-semibold text-emerald-700 dark:text-emerald-300 group-hover:text-emerald-500 dark:group-hover:text-emerald-200 transition-colors duration-300 flex items-center gap-2">
						{t('about.backend')}
					</h3>
					<div class="pl-6 border-l-2 border-emerald-200 dark:border-emerald-700 space-y-3">
						<div class="flex items-center gap-2">
							<span class="px-3 py-1 bg-emerald-100 dark:bg-emerald-900 text-emerald-800 dark:text-emerald-200 text-sm font-medium rounded-full">Go</span>
							<span class="px-3 py-1 bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-slate-200 text-sm font-medium rounded-full">PostgreSQL</span>
							<span class="px-3 py-1 bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200 text-sm font-medium rounded-full">Docker</span>
						</div>
						<p class="text-slate-600 dark:text-slate-300 leading-relaxed">
							{t('about.backend-desc')}
						</p>
					</div>
				</div>

				<!-- AI/ML -->
				<div class="group space-y-4">
					<h3 class="text-xl font-semibold text-purple-700 dark:text-purple-300 group-hover:text-purple-500 dark:group-hover:text-purple-200 transition-colors duration-300 flex items-center gap-2">
						{t('about.ai')}
					</h3>
					<div class="pl-6 border-l-2 border-purple-200 dark:border-purple-700 space-y-3">
						<div class="flex items-center gap-2">
							<span class="px-3 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 text-sm font-medium rounded-full">PyTorch</span>
							<span class="px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-sm font-medium rounded-full">TensorFlow</span>
							<span class="px-3 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 text-sm font-medium rounded-full">Hugging Face</span>
						</div>
						<p class="text-slate-600 dark:text-slate-300 leading-relaxed">
							{t('about.ai-desc')}
						</p>
					</div>
				</div>

				<!-- HCI -->
				<div class="group space-y-4">
					<h3 class="text-xl font-semibold text-pink-700 dark:text-pink-300 group-hover:text-pink-500 dark:group-hover:text-pink-200 transition-colors duration-300 flex items-center gap-2">
						{t('about.hci')}
					</h3>
					<div class="pl-6 border-l-2 border-pink-200 dark:border-pink-700 space-y-3">
						<div class="flex items-center gap-2">
							<span class="px-3 py-1 bg-pink-100 dark:bg-pink-900 text-pink-800 dark:text-pink-200 text-sm font-medium rounded-full">UX Design</span>
							<span class="px-3 py-1 bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 text-sm font-medium rounded-full">Interaction Design</span>
							<span class="px-3 py-1 bg-teal-100 dark:bg-teal-900 text-teal-800 dark:text-teal-200 text-sm font-medium rounded-full">Usability</span>
						</div>
						<p class="text-slate-600 dark:text-slate-300 leading-relaxed">
							{t('about.hci-desc')}
						</p>
					</div>
				</div>
			</div>
		</section>

		<!-- Timeline -->
		<section class="space-y-6">
			<h2 class="text-3xl font-bold text-orange-800 dark:text-orange-300">{t('about.timeline.title')}</h2>
			<div class="space-y-6 border-l border-slate-200 dark:border-slate-700 pl-6">
				{timelineEntries.map((item) => (
					<div class="relative pl-4">
						<span class="absolute -left-5 top-2 h-3 w-3 rounded-full bg-orange-500 shadow shadow-orange-500/30"></span>
						<p class="text-sm uppercase tracking-wide text-slate-400">{item.period}</p>
						<h3 class="text-xl font-semibold text-slate-900 dark:text-white mt-1">{item.title}</h3>
						<p class="text-slate-600 dark:text-slate-300 mt-2 leading-relaxed">{item.body}</p>
					</div>
				))}
			</div>
		</section>

		<!-- Feature Stories -->
		<section class="space-y-6">
			<h2 class="text-3xl font-bold text-orange-800 dark:text-orange-300">{t('about.features.title')}</h2>
			<div class="grid gap-6 md:grid-cols-2">
				{featureLinks.map((feature) => (
					<a href={feature.href} target="_blank" rel="noopener noreferrer" class="group rounded-2xl border border-slate-200 bg-white dark:border-white/10 dark:bg-white/5 px-6 py-5 flex flex-col gap-3 transition hover:-translate-y-1 hover:border-orange-400 shadow-sm hover:shadow-md">
						<div class="flex items-center gap-2 text-orange-500">
							<span class="text-xs uppercase tracking-[0.3em] font-semibold">{feature.badge}</span>
							<span class="h-px flex-1 bg-orange-500/20" aria-hidden="true" />
						</div>
						<h3 class="text-3xl font-semibold text-slate-900 dark:text-white group-hover:text-orange-400">{feature.title}</h3>
						<p class="text-base text-slate-600 dark:text-slate-300 leading-relaxed flex-1">{feature.description}</p>
						<span class="text-sm font-semibold text-orange-500 group-hover:text-orange-300 inline-flex items-center gap-1">
							{t('about.features.view-more')} →
						</span>
					</a>
				))}
			</div>
		</section>
		</main>
		<Footer />
	</body>
</html>
